<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>zyl的博客网站</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="关于自己解决问题的过程的思考和小项目">
<meta property="og:type" content="website">
<meta property="og:title" content="zyl的博客网站">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="zyl的博客网站">
<meta property="og:description" content="关于自己解决问题的过程的思考和小项目">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Jinniandongtian">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="zyl的博客网站" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">zyl的博客网站</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-ComfyUI学习记录" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/09/01/ComfyUI%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" class="article-date">
  <time class="dt-published" datetime="2024-09-01T14:53:05.000Z" itemprop="datePublished">2024-09-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/09/01/ComfyUI%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/">ComfyUI学习记录</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>  ComfyUI Examples：comfyanonymous.github.io&#x2F;ComfyUI_examples</p>
<p>研究透自带的工作流</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/09/01/ComfyUI%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" data-id="cm0jp1eaj0001rwueheo25tp5" data-title="ComfyUI学习记录" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AI/" rel="tag">AI</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-ChatTTS本地部署并使用Api流程" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/07/23/ChatTTS%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2%E5%B9%B6%E4%BD%BF%E7%94%A8Api%E6%B5%81%E7%A8%8B/" class="article-date">
  <time class="dt-published" datetime="2024-07-23T13:07:07.095Z" itemprop="datePublished">2024-07-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id=""><a href="#" class="headerlink" title=""></a></h2><h4 id="本地web运行："><a href="#本地web运行：" class="headerlink" title="本地web运行："></a>本地web运行：</h4><ol>
<li><pre><code>git clone https://github.com/2noise/ChatTTS
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. ```</span><br><span class="line">   cd ChatTTS</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><pre><code>配置环境 ：pip install -r requirements.txt
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">4. ```</span><br><span class="line">   安装依赖 ：pip install -U huggingface_hub</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><pre><code>换源 ：$env:HF_ENDPONIT = &quot;https://hf-mirror.com&quot;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">6. ```</span><br><span class="line">   下载模型和配置：huggingface-cli download --resume-download --local-dir-use-symlinks False 2Noise/ChatTTS --local-dir ChatTTS</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><pre><code>安装gradio：pip install gradio
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">8. ```</span><br><span class="line">   启动web：python examples/web/webui.py</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/07/23/ChatTTS%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2%E5%B9%B6%E4%BD%BF%E7%94%A8Api%E6%B5%81%E7%A8%8B/" data-id="cm0jp1e8w0000rwue9jhm0prf" data-title="" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-mysql" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/06/07/mysql/" class="article-date">
  <time class="dt-published" datetime="2024-06-07T08:53:24.000Z" itemprop="datePublished">2024-06-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/06/07/mysql/">mysql</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="mysql关键字"><a href="#mysql关键字" class="headerlink" title="mysql关键字"></a>mysql关键字</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NOT &gt; AND &gt; OR</span><br></pre></td></tr></table></figure>

<p>查询某个字段不等于某些值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM player WHERE level NOT IN (1,3,5)</span><br></pre></td></tr></table></figure>

<p>模糊查询</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">% : 代表任意长度的字符串</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_: 代表一个长度的字符串</span><br></pre></td></tr></table></figure>

<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><p>关键字: REGEXP </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">. 任意一个字符</span><br><span class="line">^ 开头</span><br><span class="line">$ 结尾</span><br><span class="line">[abc] 其中任意一个字符</span><br><span class="line">[a-z] 范围内的任意一个字符</span><br><span class="line">A|B A或者B</span><br></pre></td></tr></table></figure>

<p>判断是否为空</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">is null </span><br></pre></td></tr></table></figure>

<p>判断空字符串</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">= &#x27;&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="常用关键字"><a href="#常用关键字" class="headerlink" title="常用关键字"></a>常用关键字</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">order by:</span><br><span class="line">select * from player where order by level  -----默认升序排序</span><br><span class="line">select * from player where order by level DESC ----降序排列</span><br><span class="line">select * from player where order by level DESC , exp ASC ----level降序排列，exp升序排列</span><br></pre></td></tr></table></figure>

<h3 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">AVG() 返回集合的平均值</span><br><span class="line">COUNT() 返回集合中的项目数</span><br><span class="line">MAX() 返回最大值</span><br><span class="line">MIN() 返回最小值</span><br><span class="line">SUM() 求和</span><br></pre></td></tr></table></figure>

<p>求每个等级的玩家数量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select level,count(level) from player group by level ;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Having : 筛选分组后的数据</span><br><span class="line">select level,count(level) from player group by level having count(level) &gt; 4</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">再用order by : 排序</span><br><span class="line">select level,count(level) from player group by level having count(level) &gt; 4 order by count(level)</span><br></pre></td></tr></table></figure>

<p>例子：统计每个姓氏玩家的数量，并将结果按照数量来降序排序,只显示数量大于等于5的姓氏</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select </span><br></pre></td></tr></table></figure>

<p>如何设计一个高可用的系统？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1、数据库主从复制：主数据库负责写数据，读数据库负责读数据，以提高读写性能</span><br><span class="line">2、数据库集群：实现自动故障转移，数据复制</span><br><span class="line">3、数据缓存：Redis等</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/06/07/mysql/" data-id="cm0jp1eas0003rwueg1ps65xw" data-title="mysql" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-nginx" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/06/03/nginx/" class="article-date">
  <time class="dt-published" datetime="2024-06-03T06:32:55.000Z" itemprop="datePublished">2024-06-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/06/03/nginx/">nginx</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="Nginx常用的功能模块"><a href="#Nginx常用的功能模块" class="headerlink" title="Nginx常用的功能模块"></a>Nginx常用的功能模块</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">静态资源部署</span><br><span class="line">Rewrite地址重写</span><br><span class="line">   正则表达式</span><br><span class="line">反向代理</span><br><span class="line">负载均衡</span><br><span class="line">    轮询、加权轮询、ip_hash、url_hash、fair</span><br><span class="line">web缓存</span><br><span class="line">环境部署</span><br><span class="line">    高可用的环境</span><br><span class="line">用户认证模块...</span><br></pre></td></tr></table></figure>

<h3 id="Nginx的核心组成"><a href="#Nginx的核心组成" class="headerlink" title="Nginx的核心组成"></a>Nginx的核心组成</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nginx二进制可执行文件</span><br><span class="line">nginx.conf配置文件</span><br><span class="line">error.log错误的日志记录</span><br><span class="line">access.log访问日志记录</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/06/03/nginx/" data-id="cm0jp1eat0004rwue29u64rhi" data-title="nginx" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" rel="tag">nginx学习记录</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-vue3-element-plus中el-dialog无法显示的问题" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/30/vue3-element-plus%E4%B8%ADel-dialog%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E7%9A%84%E9%97%AE%E9%A2%98/" class="article-date">
  <time class="dt-published" datetime="2024-05-30T06:37:22.000Z" itemprop="datePublished">2024-05-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/30/vue3-element-plus%E4%B8%ADel-dialog%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E7%9A%84%E9%97%AE%E9%A2%98/">vue3+element-plus中el-dialog无法显示的问题</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h4><p>修改el-dialog的v-model属性为true后不显示</p>
<h4 id="原因："><a href="#原因：" class="headerlink" title="原因："></a>原因：</h4><p>变量定义方式不对，应该用const修饰，而不是let（不知道原因）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> addDialogVisible = <span class="title function_">ref</span>(<span class="literal">false</span>)</span><br></pre></td></tr></table></figure>

<p>但要注意，使用const修饰后不能在函数中修改为true，不然会报错，应该在html中修改</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;addDialogVisible = true&quot;</span>&gt;</span>新增<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>vue3+element-plus有很多小毛病</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/30/vue3-element-plus%E4%B8%ADel-dialog%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E7%9A%84%E9%97%AE%E9%A2%98/" data-id="clwsw1mxe00006wue95kr3jbj" data-title="vue3+element-plus中el-dialog无法显示的问题" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue3%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/" rel="tag">vue3踩坑记录</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-vue3中el-table数据渲染不出来的问题" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/29/vue3%E4%B8%ADel-table%E6%95%B0%E6%8D%AE%E6%B8%B2%E6%9F%93%E4%B8%8D%E5%87%BA%E6%9D%A5%E7%9A%84%E9%97%AE%E9%A2%98/" class="article-date">
  <time class="dt-published" datetime="2024-05-29T09:23:09.000Z" itemprop="datePublished">2024-05-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/29/vue3%E4%B8%ADel-table%E6%95%B0%E6%8D%AE%E6%B8%B2%E6%9F%93%E4%B8%8D%E5%87%BA%E6%9D%A5%E7%9A%84%E9%97%AE%E9%A2%98/">vue3中el-table数据渲染不出来的问题</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h4><p>今天新学vue3语法终于能集成axios从后端请求数据，但是请求出来的tableData却在el-table里渲染不出，用控制台可以打印。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getList</span>(<span class="params"></span>)&#123;</span><br><span class="line">   <span class="title function_">getAll</span>().<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span>&#123;</span><br><span class="line">     tableData = res.<span class="property">data</span>;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(tableData);</span><br><span class="line">   &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>![image-20240529173226845](C:\Users\stack hello\AppData\Roaming\Typora\typora-user-images\image-20240529173226845.png)</p>
<h4 id="原因："><a href="#原因：" class="headerlink" title="原因："></a>原因：</h4><p>网上搜索过后才知，原来用reactive([]声明出来的数组不会被认为是动态数组，所以在如下传值时</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tableData = res.<span class="property">data</span></span><br></pre></td></tr></table></figure>

<p>tableData仍然为空，所以数据不显示。</p>
<h4 id="解决："><a href="#解决：" class="headerlink" title="解决："></a>解决：</h4><p>使用js数组自带的push方法，逐渐将数据增加到tableData中来，这样长度会逐渐增加，达到动态数组的效果。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getList</span>(<span class="params"></span>)&#123;</span><br><span class="line">   <span class="title function_">getAll</span>().<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span>&#123;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; res.<span class="property">data</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">       tableData.<span class="title function_">push</span>(res.<span class="property">data</span>[i])</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>数据终于正常显示！</p>
<p>![image-20240529173325827](C:\Users\stack hello\AppData\Roaming\Typora\typora-user-images\image-20240529173325827.png)</p>
<p>5.30补充：当页面加载完成，重新调用load()方法后，tableData会被重复增加后台数据</p>
<p>解决：每次重新加载load()函数前将tableData置为空。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//改变页码尺寸</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleSizeChange</span>(<span class="params">size</span>)&#123;</span><br><span class="line">  pageSize.<span class="property">value</span> = size;</span><br><span class="line">  tableData = <span class="title function_">reactive</span>([]) <span class="comment">//将tableData置为空，防止重复请求后台数据</span></span><br><span class="line">  <span class="title function_">load</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/29/vue3%E4%B8%ADel-table%E6%95%B0%E6%8D%AE%E6%B8%B2%E6%9F%93%E4%B8%8D%E5%87%BA%E6%9D%A5%E7%9A%84%E9%97%AE%E9%A2%98/" data-id="clwrmpp500000s8ue6eqedbsg" data-title="vue3中el-table数据渲染不出来的问题" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue3%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/" rel="tag">vue3踩坑记录</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-网关的作用" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/20/%E7%BD%91%E5%85%B3%E7%9A%84%E4%BD%9C%E7%94%A8/" class="article-date">
  <time class="dt-published" datetime="2024-05-20T15:15:58.000Z" itemprop="datePublished">2024-05-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/20/%E7%BD%91%E5%85%B3%E7%9A%84%E4%BD%9C%E7%94%A8/">网关的作用</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><ol>
<li>在pom文件中集成了注册中心和配置中心</li>
<li>bootstrap.yml文件配置注册中心nacos</li>
<li>nacos中配置路由</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/20/%E7%BD%91%E5%85%B3%E7%9A%84%E4%BD%9C%E7%94%A8/" data-id="clwrmpp6n0001s8ue61fx99cg" data-title="网关的作用" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%A0%A1%E5%9B%AD%E6%96%87%E6%98%8E%E5%B9%B3%E5%8F%B0/" rel="tag">校园文明平台</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-算法模板" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/18/%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/" class="article-date">
  <time class="dt-published" datetime="2024-05-18T06:38:00.000Z" itemprop="datePublished">2024-05-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/18/%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/">算法模板</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="单链表"><a href="#单链表" class="headerlink" title="单链表"></a>单链表</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// head存储链表头，e[]存储节点的值，ne[]存储节点的next指针，idx表示当前用的节点</span></span><br><span class="line"><span class="type">int</span> head,e[N],ne[N],idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    head = <span class="number">-1</span>;</span><br><span class="line">    idx = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//在链表头插入一个数x</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    e[idx] = x;</span><br><span class="line">    ne[idx] = head;</span><br><span class="line">    head = idx++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//将头节点删除，需要保证头节点存在</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">()</span></span>&#123;</span><br><span class="line">    head = ne[head];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="双链表"><a href="#双链表" class="headerlink" title="双链表"></a>双链表</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// e[]表示节点的值，l[]表示节点的左指针，r[]表示节点的右指针，idx表示当前用到了哪个节点</span></span><br><span class="line"><span class="type">int</span> e[N],l[N],r[N],idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    r[<span class="number">0</span>] = <span class="number">1</span>; l[<span class="number">1</span>] = <span class="number">0</span>;  <span class="comment">//0是左端点，1是右端点</span></span><br><span class="line">    idx = <span class="number">2</span>; <span class="comment">// 已经用了两个结点</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//在结点k的右边插入一个数x</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> k,<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    e[idx] =x;</span><br><span class="line">    l[idx] = k,r[idx] =r[k];</span><br><span class="line">    l[r[k]] = idx,r[k] = idx++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//删除结点a</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> a)</span></span>&#123;</span><br><span class="line">    l[r[a]] = l[a];</span><br><span class="line">    r[l[a]] = r[a];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//tt表示栈顶</span></span><br><span class="line"><span class="type">int</span> stk[N],tt=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//向栈顶插入一个数</span></span><br><span class="line">stk[++tt] = x;</span><br><span class="line"><span class="comment">//从栈顶弹出一个数</span></span><br><span class="line">tt--;</span><br><span class="line"><span class="comment">//栈顶的值</span></span><br><span class="line">stk[tt];</span><br><span class="line"><span class="comment">//判断栈是否为空，如果tt&gt;0,则表示不为空</span></span><br><span class="line"><span class="keyword">if</span>(tt &gt;<span class="number">0</span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h2><h4 id="普通队列"><a href="#普通队列" class="headerlink" title="普通队列"></a>普通队列</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//hh表示队头，tt表示队尾</span></span><br><span class="line"><span class="type">int</span> q[N],hh=<span class="number">0</span>,tt=<span class="number">-1</span>;</span><br><span class="line"><span class="comment">//向队尾插入一个数</span></span><br><span class="line">q[++tt] =x;</span><br><span class="line"><span class="comment">//从队头弹出一个数</span></span><br><span class="line">hh++;</span><br><span class="line"><span class="comment">//队头的值</span></span><br><span class="line">q[hh];</span><br><span class="line"><span class="comment">//判断队列是否为空，如果hh&lt;=tt,则表示不为空</span></span><br><span class="line"><span class="keyword">if</span>(hh&lt;=tt)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="循环队列"><a href="#循环队列" class="headerlink" title="循环队列"></a>循环队列</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hh表示队头，tt表示队尾的后一个位置</span></span><br><span class="line"><span class="type">int</span> q[N],hh=<span class="number">0</span>,tt=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//向队尾插入一个数</span></span><br><span class="line">q[tt++] = x;</span><br><span class="line"><span class="keyword">if</span>(tt == N) tt=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//从队头弹出一个数</span></span><br><span class="line">hh++;</span><br><span class="line"><span class="keyword">if</span>(hh=N) hh=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//队头的值</span></span><br><span class="line">q[hh];</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断队列是否为空，如果hh!=tt,则表示不为空</span></span><br><span class="line"><span class="keyword">if</span>(hh!=tt)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">quick_sort</span><span class="params">(<span class="type">int</span> q[],<span class="type">int</span> l.<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(l&gt;=r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> i=l<span class="number">-1</span>,j=r+<span class="number">1</span>,x=q[l+r&gt;&gt;<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">while</span>(i&lt;j)&#123;</span><br><span class="line">      <span class="keyword">do</span> i++; <span class="keyword">while</span>(q[i] &lt; x);</span><br><span class="line">      <span class="keyword">do</span> j++; <span class="keyword">while</span>(q[j] &gt; x);</span><br><span class="line">      <span class="keyword">if</span>(i&lt;j) <span class="built_in">swap</span>(q[i],q[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">quick_sort</span>(q,l.j);</span><br><span class="line">    <span class="built_in">qucik_sort</span>(q,j+<span class="number">1</span>,r);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge_sort</span><span class="params">(<span class="type">int</span> q[],<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(l&gt;=r) <span class="keyword">return</span>;</span><br><span class="line">  <span class="type">int</span> mid = l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">  <span class="built_in">merge_sort</span>(q,l,mid);</span><br><span class="line">  <span class="built_in">merge_sort</span>(q,mid+<span class="number">1</span>,r);</span><br><span class="line">  </span><br><span class="line">  <span class="type">int</span> k = <span class="number">0</span>,i=l,j = mid+<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span>(i&lt;=mid &amp;&amp; j&lt;=r)&#123;</span><br><span class="line">    <span class="keyword">if</span>(q[i] &lt;=q[j]) tmp[k++] = q[i++];</span><br><span class="line">    <span class="keyword">else</span> tmp[k++] = q[j++];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span>(i&lt;=mid) tmp[k++] = q[i++];</span><br><span class="line">  <span class="keyword">while</span>(j&lt;=r) tmp[k++] = q[j++];</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span>(i=l,j=<span class="number">0</span>;i&lt;=r;i++,j++) q[i] = tmp[j++];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="整数二分"><a href="#整数二分" class="headerlink" title="整数二分"></a>整数二分</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;&#125; <span class="comment">//检查x是否满足某种性质</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//区间[l,r]被划分成[l,mid]和[mid+1,r]时使用</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">SL</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line"> <span class="keyword">while</span>(l&lt;r)&#123;</span><br><span class="line">   <span class="type">int</span> mid = l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">   <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) r = mid;</span><br><span class="line">   <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//区间[l,r]被划分成[l,mid-1]和[mid,r]时使用</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">SR</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;r)&#123;</span><br><span class="line">        <span class="type">int</span> mid =l+r+<span class="number">1</span>&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) l=mid;</span><br><span class="line">        <span class="keyword">else</span> r =mid <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/18/%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/" data-id="clwbrk9lh0000b8ue61xp5dpi" data-title="算法模板" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-5-14面试内容准备" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/14/5-14%E9%9D%A2%E8%AF%95%E5%86%85%E5%AE%B9%E5%87%86%E5%A4%87/" class="article-date">
  <time class="dt-published" datetime="2024-05-14T04:34:06.000Z" itemprop="datePublished">2024-05-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/14/5-14%E9%9D%A2%E8%AF%95%E5%86%85%E5%AE%B9%E5%87%86%E5%A4%87/">5-14面试内容准备</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="Spring中bean注入到beanfactory中的方式有哪些？"><a href="#Spring中bean注入到beanfactory中的方式有哪些？" class="headerlink" title="Spring中bean注入到beanfactory中的方式有哪些？"></a>Spring中bean注入到beanfactory中的方式有哪些？</h3><ol>
<li>xml文件配置方式</li>
<li>@Component注解</li>
<li>@Configuration注解</li>
<li>@Bean注解</li>
<li>@Service、@Repository、@Controller注解</li>
</ol>
<h3 id="Mybatis-Plus链式编程"><a href="#Mybatis-Plus链式编程" class="headerlink" title="Mybatis-Plus链式编程"></a>Mybatis-Plus链式编程</h3><p>查询操作</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lambdaQuery() <span class="comment">//生成查询链</span></span><br><span class="line">    .eq(Entity::getId,value) <span class="comment">//条件项</span></span><br><span class="line">    .one(); <span class="comment">//获取的结果集</span></span><br></pre></td></tr></table></figure>

<p>更新操作</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lambdaQuery() <span class="comment">//生成查询链</span></span><br><span class="line">    .eq(Entity::getId,“id”) <span class="comment">//条件项</span></span><br><span class="line">    .set(Entity::getName,<span class="string">&quot;张三&quot;</span>); <span class="comment">//设置值</span></span><br><span class="line">    .update(); <span class="comment">//进行的操作</span></span><br></pre></td></tr></table></figure>

<h3 id="如何定位慢查询？"><a href="#如何定位慢查询？" class="headerlink" title="如何定位慢查询？"></a>如何定位慢查询？</h3><ol>
<li>使用工具Skywalking</li>
<li>开启MySQL自带的慢查询日志，设置一个阈值，一旦某个接口查询的时间超过阈值就会记录到日志中</li>
</ol>
<h3 id="如果SQL语句执行很慢，如何分析优化呢？"><a href="#如果SQL语句执行很慢，如何分析优化呢？" class="headerlink" title="如果SQL语句执行很慢，如何分析优化呢？"></a>如果SQL语句执行很慢，如何分析优化呢？</h3><ol>
<li>使用exlplain语句查询执行计划</li>
<li>通过key和key_len检查是否走了索引</li>
<li>通过type字段查看是否有进一步优化的空间</li>
<li>通过extra判断是否出现了回表的情况</li>
</ol>
<h3 id="什么是索引？索引的底层数据结构了解吗？"><a href="#什么是索引？索引的底层数据结构了解吗？" class="headerlink" title="什么是索引？索引的底层数据结构了解吗？"></a>什么是索引？索引的底层数据结构了解吗？</h3><p>索引是帮助MySQL高效获取数据的数据结构，主要是用来提高数据库的检索效率，降低数据库的IO成本，同时通过索引对数据进行排序，降低数据排序的成本（创建索引时就需要排序）。</p>
<p>选择B+树的原因：</p>
<ol>
<li>阶数更多，路径更短</li>
<li>只有叶子结点存储数据，查找效率更加稳定</li>
<li>方便范围查找</li>
</ol>
<h3 id="聚簇索引和非聚簇索引-以及-什么是回表查询？"><a href="#聚簇索引和非聚簇索引-以及-什么是回表查询？" class="headerlink" title="聚簇索引和非聚簇索引 以及 什么是回表查询？"></a>聚簇索引和非聚簇索引 以及 什么是回表查询？</h3><ol>
<li>聚簇索引：数据和索引结构放在一块，B+树的叶子节点保存了整行数据，有且只有一个</li>
<li>非聚簇索引：数据和索引分开存储，B+树的叶子节点保存对应的<strong>主键</strong>，可有多个</li>
<li>回表查询：通过二级索引找到对应的主键值，再到聚簇索引中查找整行数据，就是回表</li>
</ol>
<h3 id="覆盖索引"><a href="#覆盖索引" class="headerlink" title="覆盖索引"></a>覆盖索引</h3><ol>
<li><p>覆盖索引是指查询使用了索引，所返回的列，必须在索引中全部能够找到</p>
</li>
<li><p>MySQL超大分页怎么处理？<strong>提升查询效率，就用覆盖索引</strong>，在数据量比较大时，limit分页查询，需要对数据进行排序，效率低</p>
<p>解决方案：覆盖索引+子查询</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select * </span><br><span class="line">from tb_sku t,</span><br><span class="line"> (select id from tb_sku order by limit 900000,10) a    //子查询是覆盖索引</span><br><span class="line">where t.id = a.id;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="索引创建的原则有哪些？"><a href="#索引创建的原则有哪些？" class="headerlink" title="索引创建的原则有哪些？"></a>索引创建的原则有哪些？</h3><ol>
<li>数据量比较大，且查询比较频繁的表(重要)</li>
<li>常用作查询条件、排序、分组的字段（重要）</li>
<li>尽量使用联合索引（重要）</li>
<li>要控制索引的数量（重要）</li>
<li>使用NOT NULL去约束字段</li>
<li>使用区分度高的字段</li>
<li>字段的长度较长时，可以针对字段的特点，建立前缀索引</li>
</ol>
<h3 id="导致索引失效的情况"><a href="#导致索引失效的情况" class="headerlink" title="导致索引失效的情况"></a>导致索引失效的情况</h3><ol>
<li>违反最左前缀法则</li>
<li>范围查询右边的列，不能使用索引</li>
<li>在索引上进行运算操作会导致索引失效</li>
<li>字符串不加单引号</li>
<li>模糊查询有可能导致索引失效</li>
</ol>
<h3 id="SQL语句的优化"><a href="#SQL语句的优化" class="headerlink" title="SQL语句的优化"></a>SQL语句的优化</h3><ol>
<li>避免使用select *</li>
<li>避免导致索引失效的写法<ul>
<li>违反最左前缀匹配原则</li>
<li>范围查询右边的列索引会失效</li>
</ul>
</li>
<li>尽量用union all 代替 union，因为union会将查询结果进行过滤</li>
<li>避免在where子句中对字段进行表达式操作</li>
<li>Join优化，能用inner join就不用left join和right join，INNER JOIN 只返回匹配的行，而 LEFT JOIN 则返回左表的所有行，不匹配的行则设置为空</li>
</ol>
<h3 id="并发事务问题"><a href="#并发事务问题" class="headerlink" title="并发事务问题"></a>并发事务问题</h3><ol>
<li>脏读：一个事务读到了另一个事务没有提交的数据</li>
<li>不可重复读：在一个事务内部两次读取到的数据不一样</li>
<li>幻读：一个事务查询数据时没有对应的数据行，但是在插入数据时，又发现这行数据已经存在，好像出现了“幻影”</li>
</ol>
<h3 id="MySQL日志"><a href="#MySQL日志" class="headerlink" title="MySQL日志"></a>MySQL日志</h3><ol>
<li>redo log （重做日志）：物理日志，用于数据持久化</li>
<li>undo log：逻辑日志，提供回滚和MVCC</li>
<li>redo log保证了数据的持久性，undo log保证了数据的原子性和一致性</li>
</ol>
<h3 id="分库分表"><a href="#分库分表" class="headerlink" title="分库分表"></a>分库分表</h3><ol>
<li>垂直分库：以表为依据，根据业务将不同表拆分到不同库中</li>
<li>垂直分表：将表中字段分到不同表中</li>
<li>水平分库：将一个库的数据拆分到多个库中</li>
<li>水平分表：将一个表的数据分散到多个表中</li>
<li>分库会出现的问题：<ul>
<li>分布式事务一致性问题</li>
<li>主键避重</li>
<li>跨节点关联查询</li>
</ul>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/14/5-14%E9%9D%A2%E8%AF%95%E5%86%85%E5%AE%B9%E5%87%86%E5%A4%87/" data-id="clwaayhwf0000acue420g15r4" data-title="5-14面试内容准备" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87/" rel="tag">面试准备</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-5-13面试内容准备" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/13/5-13%E9%9D%A2%E8%AF%95%E5%86%85%E5%AE%B9%E5%87%86%E5%A4%87/" class="article-date">
  <time class="dt-published" datetime="2024-05-13T15:37:14.000Z" itemprop="datePublished">2024-05-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/13/5-13%E9%9D%A2%E8%AF%95%E5%86%85%E5%AE%B9%E5%87%86%E5%A4%87/">5-13面试内容准备</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><h3 id="如何解决缓存穿透问题？"><a href="#如何解决缓存穿透问题？" class="headerlink" title="如何解决缓存穿透问题？"></a>如何解决缓存穿透问题？</h3><ol>
<li>方法1：缓存空值</li>
<li>方法2：使用布隆过滤器：用于检索一个元素是否在一个集合中。根据Id，用3个hash函数计算下标存入bitmap数组中。判断id是否存在时，就看计算出的3个位置是否都为1</li>
</ol>
<h3 id="如何解决缓存击穿问题？"><a href="#如何解决缓存击穿问题？" class="headerlink" title="如何解决缓存击穿问题？"></a>如何解决缓存击穿问题？</h3><ol>
<li>方法1：使用逻辑过期（高可用，性能优秀，但是不能保证数据一致性）：设置一个过期时间字段，如果查询到数据过期，就新开一个线程，新线程获取锁，查询数据库并更新缓存。</li>
<li>方法2：使用互斥锁，当线程查询缓存未命中时都会获得锁，然后查询数据库更新缓存</li>
</ol>
<h3 id="如何解决缓存雪崩的问题？"><a href="#如何解决缓存雪崩的问题？" class="headerlink" title="如何解决缓存雪崩的问题？"></a>如何解决缓存雪崩的问题？</h3><p>缓存雪崩：短时间内大量key过期或者redis宕机，导致大量请求到达DB</p>
<ol>
<li>设置过期时间TTL为随机值</li>
<li>使用Redis集群提高服务的可用性</li>
<li>给缓存业务添加降级限流策略（保底策略）</li>
<li>给业务添加多级缓存</li>
</ol>
<h2 id="如何解决双写一致性的问题？"><a href="#如何解决双写一致性的问题？" class="headerlink" title="如何解决双写一致性的问题？"></a>如何解决双写一致性的问题？</h2><h4 id="强一致性"><a href="#强一致性" class="headerlink" title="强一致性"></a>强一致性</h4><ol>
<li>延迟双删</li>
<li>加分布式锁：使用共享锁，读不互斥，写互斥</li>
</ol>
<h4 id="非强一致性"><a href="#非强一致性" class="headerlink" title="非强一致性"></a>非强一致性</h4><ol>
<li>使用MQ消息队列：修改数据时，先写入数据库，再发送一条消息给数据库，redis端监听消息</li>
<li>使用binlog日志，canal实现</li>
</ol>
<h2 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h2><h4 id="负载均衡是如何实现的？"><a href="#负载均衡是如何实现的？" class="headerlink" title="负载均衡是如何实现的？"></a>负载均衡是如何实现的？</h4><p>文章微服务发起请求，Nacos根据请求拉取相应服务器端口列表，然后根据ribbon去决定调用那个服务器端口</p>
<p>![image-20240514002036658](C:\Users\stack hello\AppData\Roaming\Typora\typora-user-images\image-20240514002036658.png)</p>
<h4 id="ribbon的负载均衡策略有哪些？"><a href="#ribbon的负载均衡策略有哪些？" class="headerlink" title="ribbon的负载均衡策略有哪些？"></a>ribbon的负载均衡策略有哪些？</h4><ul>
<li>轮询</li>
<li>随机</li>
<li>权重：响应时间越长，权重越小</li>
<li>区域敏感：就近原则</li>
</ul>
<h4 id="自定义负载均衡如何实现？"><a href="#自定义负载均衡如何实现？" class="headerlink" title="自定义负载均衡如何实现？"></a>自定义负载均衡如何实现？</h4><ol>
<li>实现IRule接口，指定策略（全局）</li>
<li>在微服务端的配置文件中配置（局部）</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/13/5-13%E9%9D%A2%E8%AF%95%E5%86%85%E5%AE%B9%E5%87%86%E5%A4%87/" data-id="clw56awwc0000o0ue7pc6hwde" data-title="5-13面试内容准备" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87/" rel="tag">面试准备</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leetcode/" rel="tag">leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" rel="tag">nginx学习记录</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue3%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/" rel="tag">vue3踩坑记录</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%A1%E5%9B%AD%E6%96%87%E6%98%8E%E5%B9%B3%E5%8F%B0/" rel="tag">校园文明平台</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%A1%E5%9B%AD%E6%96%87%E6%98%8E%E5%B9%B3%E5%8F%B0%E9%A1%B9%E7%9B%AE/" rel="tag">校园文明平台项目</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0/" rel="tag">框架学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/" rel="tag">问题解决</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E5%85%AB%E8%82%A1/" rel="tag">面试八股</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87/" rel="tag">面试准备</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AI/" style="font-size: 10px;">AI</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/leetcode/" style="font-size: 10px;">leetcode</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/nginx%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" style="font-size: 10px;">nginx学习记录</a> <a href="/tags/vue3%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/" style="font-size: 12.5px;">vue3踩坑记录</a> <a href="/tags/%E6%A0%A1%E5%9B%AD%E6%96%87%E6%98%8E%E5%B9%B3%E5%8F%B0/" style="font-size: 10px;">校园文明平台</a> <a href="/tags/%E6%A0%A1%E5%9B%AD%E6%96%87%E6%98%8E%E5%B9%B3%E5%8F%B0%E9%A1%B9%E7%9B%AE/" style="font-size: 20px;">校园文明平台项目</a> <a href="/tags/%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0/" style="font-size: 10px;">框架学习</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 15px;">算法</a> <a href="/tags/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/" style="font-size: 10px;">问题解决</a> <a href="/tags/%E9%9D%A2%E8%AF%95%E5%85%AB%E8%82%A1/" style="font-size: 10px;">面试八股</a> <a href="/tags/%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87/" style="font-size: 17.5px;">面试准备</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">九月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">七月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">六月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">五月 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/09/01/ComfyUI%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/">ComfyUI学习记录</a>
          </li>
        
          <li>
            <a href="/2024/07/23/ChatTTS%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2%E5%B9%B6%E4%BD%BF%E7%94%A8Api%E6%B5%81%E7%A8%8B/">(no title)</a>
          </li>
        
          <li>
            <a href="/2024/06/07/mysql/">mysql</a>
          </li>
        
          <li>
            <a href="/2024/06/03/nginx/">nginx</a>
          </li>
        
          <li>
            <a href="/2024/05/30/vue3-element-plus%E4%B8%ADel-dialog%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E7%9A%84%E9%97%AE%E9%A2%98/">vue3+element-plus中el-dialog无法显示的问题</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 Jinniandongtian<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>